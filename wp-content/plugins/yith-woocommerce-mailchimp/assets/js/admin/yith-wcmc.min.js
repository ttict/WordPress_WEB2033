jQuery(document).ready(function(a){var h=a("#yith_wcmc_mailchimp_list, #yith_wcmc_shortcode_mailchimp_list, #yith_wcmc_widget_mailchimp_list, #yith_wcmc_export_list, #yith_wcmc_ecommerce360_list, #yith_wcmc_register_mailchimp_list"),k=a("#yith_wcmc_mailchimp_groups, #yith_wcmc_shortcode_mailchimp_groups, #yith_wcmc_shortcode_mailchimp_groups_selectable, #yith_wcmc_widget_mailchimp_groups, #yith_wcmc_widget_mailchimp_groups_selectable, #yith_wcmc_register_mailchimp_groups"),l=a("#yith_wcmc_export_field_waiting_products");
    h.parent().find(".description").before(a("<a/>",{"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-list",id:"yith_wmcm_mailchimp_list_updater",href:"#",text:yith_wcmc.labels.update_list_button}));k.parent().find(".description").before(a("<a/>",{"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-group",id:"yith_wcmc_mailchimp_group_updater",href:"#",text:yith_wcmc.labels.update_group_button}));l.parent().find(".description").before(a("<a/>",
        {"class":"button button-secondary ajax-mailchimp-updater ajax-mailchimp-updater-field",id:"yith_wcmc_mailchimp_field_updater",href:"#",text:yith_wcmc.labels.update_field_button}));var m=function(b){var c=a(this),d=c.prev("select"),f=d.find("option:selected").val();b.preventDefault();a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){c.unblock()},data:{force_update:!0,action:yith_wcmc.actions.retrieve_lists_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},
        dataType:"json",method:"POST",success:function(a){var c="",b=0;if(0!=a.length)for(b in a)c+='<option value="'+b+'" '+(f==b?'selected="selected"':"")+" >"+a[b]+"</option>";d.html(c);0==c.length?d.attr("disabled","disabled"):d.removeAttr("disabled")},url:ajaxurl})},n=function(b){var c=a(this).hasClass("ajax-mailchimp-updater-group")?a(this).parent().find("select"):a(this).parents("tr").next().find("select"),d=c.closest("td"),f=c.closest("tr").siblings().find(".list-select").find("option:selected").val(),
        g=[];c.find("option:selected").each(function(c,b){g[c]=a(b).val()});b.preventDefault();"undefined"!=typeof f&&0==f.length?c.prop("disabled"):c.removeProp("disabled");a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{list:f,force_update:!0,action:yith_wcmc.actions.retrieve_groups_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},dataType:"json",method:"POST",success:function(b){var d="",e=
            0;if(0!=b.length)for(e in b)d+='<option value="'+e+'" '+(-1<a.inArray(e,g)?'selected="selected"':"")+" >"+b[e]+"</option>";c.html(d);0==d.length?c.attr("disabled","disabled"):c.removeAttr("disabled","disabled");c.select2()},url:ajaxurl})},p=function(b){var c=a(this).hasClass("ajax-mailchimp-updater-field")?a(this).parent().find("select"):a(this).parents("tr").next().find("select"),d=c.closest("td"),f=c.closest("tr").siblings().find(".list-select").find("option:selected").val(),g=[];c.find("option:selected").each(function(c,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           b){g[c]=a(b).val()});b.preventDefault();0==f.length?c.prop("disabled"):c.removeProp("disabled");a.ajax({beforeSend:function(){d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},complete:function(){d.unblock()},data:{list:f,force_update:!0,action:yith_wcmc.actions.retrieve_fields_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},dataType:"json",method:"POST",success:function(b){var d="",e=0;if(0!=b.length)for(e in b)d+='<option value="'+e+'" '+(-1<a.inArray(e,
            g)?'selected="selected"':"")+" >"+b[e]+"</option>";c.html(d);0==d.length?c.prop("disabled"):c.removeProp("disabled");c.select2()},url:ajaxurl})};h=function(){a(document).off("click",".ajax-mailchimp-updater-list");a(document).off("click",".ajax-mailchimp-updater-group");a(document).off("click",".ajax-mailchimp-updater-field");a(document).off("change",".list-select");a(document).on("click",".ajax-mailchimp-updater-list",m);a(document).on("click",".ajax-mailchimp-updater-group",n);a(document).on("click",
        ".ajax-mailchimp-updater-field",p);a(document).on("change",".list-select",function(){a(this).parents().find(".ajax-mailchimp-updater-group").click();a(this).parents().find(".ajax-mailchimp-updater-field").click()})};a("#yith_wcmc_store_delete_store").length&&(a("#plugin-fw-wc-reset").hide(),a("#plugin-fw-wc").find('input[type="submit"]').hide());a("#yith_wcmc_store_integration_list").length&&(a("#plugin-fw-wc-reset").hide(),a("#plugin-fw-wc").find('input[type="submit"]').val(yith_wcmc.labels.connect_store));
    (function(){a("#yith_wcmc_panel_store").on("click",".send-request",function(){var b=a(this).data("url");console.log(b);window.location.href=b})})();h();a("body").on("add_updater_handler",h);a("#yith_wcmc_store_delete_store").on("click",function(b){var c=a(this);b.preventDefault();window.confirm(yith_wcmc.labels.confirm_store_delete)&&a.ajax({beforeSend:function(){c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},data:{action:yith_wcmc.actions.disconnect_store_via_ajax_action,yith_wcmc_ajax_request_nonce:yith_wcmc.ajax_request_nonce},
        success:function(){window.location.reload()},url:ajaxurl})});a("#yith_wcmc_checkout_trigger").on("change",function(){var b=a(this),c=a("#yith_wcmc_subscription_checkbox"),d=a("#yith_wcmc_double_optin");"never"!=b.val()?(c.parents("tr").show(),d.parents("tr").show(),a("#yith_wcmc_email_type").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_label").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").show(),
        a("#yith_wcmc_update_existing").parents("tr").show(),a("#yith_wcmc_replace_interests").parents("tr").show(),a("#yith_wcmc_send_welcome").parents("tr").show(),c.change(),d.change()):(c.parents("tr").hide(),d.parents("tr").hide(),a("#yith_wcmc_email_type").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").hide(),a("#yith_wcmc_update_existing").parents("tr").hide(),
        a("#yith_wcmc_replace_interests").parents("tr").hide(),a("#yith_wcmc_send_welcome").parents("tr").hide())}).change();a("#yith_wcmc_ecommerce360_enable").on("change",function(){var b=a(this),c=a("#yith_wcmc_ecommerce360_cookie_lifetime"),d=a("#yith_wcmc_ecommerce360_list");b.is(":checked")?(c.parents("tr").show(),d.parents("tr").show()):(c.parents("tr").hide(),d.parents("tr").hide())}).change();a("#yith_wcmc_subscription_checkbox").on("change",function(){var b=a(this);b.is(":visible")&&(b.is(":checked")?
        (a("#yith_wcmc_subscription_checkbox_label").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").show(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").show()):(a("#yith_wcmc_subscription_checkbox_label").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_position").parents("tr").hide(),a("#yith_wcmc_subscription_checkbox_default").parents("tr").hide()))}).change();a("#yith_wcmc_double_optin").on("change",function(){var b=a(this);b.is(":visible")&&(b.is(":checked")?
        a("#yith_wcmc_send_welcome").parents("tr").hide():a("#yith_wcmc_send_welcome").parents("tr").show())}).change();a("#yith_wcmc_shortcode_double_optin").on("change",function(){var b=a(this);b.is(":visible")&&(b.is(":checked")?a("#yith_wcmc_shortcode_send_welcome").parents("tr").hide():a("#yith_wcmc_shortcode_send_welcome").parents("tr").show())}).change();a("#yith_wcmc_widget_double_optin").on("change",function(){var b=a(this);b.is(":visible")&&(b.is(":checked")?a("#yith_wcmc_widget_send_welcome").parents("tr").hide():
        a("#yith_wcmc_widget_send_welcome").parents("tr").show())}).change()});